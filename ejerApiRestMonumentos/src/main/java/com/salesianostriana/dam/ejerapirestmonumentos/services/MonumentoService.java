package com.salesianostriana.dam.ejerapirestmonumentos.services;import com.salesianostriana.dam.ejerapirestmonumentos.dto.EditMonumentoCommand;import com.salesianostriana.dam.ejerapirestmonumentos.error.MonumentoNotFoundException;import com.salesianostriana.dam.ejerapirestmonumentos.model.Monumento;import com.salesianostriana.dam.ejerapirestmonumentos.repos.MonumentoRepository;import lombok.RequiredArgsConstructor;import org.springframework.stereotype.Service;import java.util.List;@Service@RequiredArgsConstructorpublic class MonumentoService {    private  final MonumentoRepository monumentoRepository;    public List<Monumento> finAll(){        List <Monumento> result= monumentoRepository.findAll();        if (result.isEmpty()){            throw  new MonumentoNotFoundException();        }else {            return  result;        }    }    public Monumento findById(Long id) {        return monumentoRepository.findById(id)                .orElseThrow(()-> new MonumentoNotFoundException(id));    }    public Monumento save (EditMonumentoCommand cmd){        return  monumentoRepository.save(                Monumento.builder()                        .codPais(cmd.codPais())                        .nomPais(cmd.nomPais())                        .localizacion(cmd.localizacion())                        .nombre(cmd.nombre())                        .descripcion(cmd.descripcion())                        .foto(cmd.foto())                        .build()        );    }    public Monumento edit (EditMonumentoCommand cmd, Long id){        return  monumentoRepository.findById(id)                .map(m->{                    m.setCodPais(cmd.codPais());                    m.setFoto(cmd.foto());                    m.setNomPais(cmd.nomPais());                    m.setDescripcion(cmd.descripcion());                    m.setLocalizacion(cmd.localizacion());                    m.setNombre(cmd.nombre());                    return monumentoRepository.save(m);                })                .orElseThrow(()->new MonumentoNotFoundException(id));    }    public void delete (Long id){        monumentoRepository.deleteById(id);    }}